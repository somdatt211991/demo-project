<div class="container-fluid">
  <div class="row">
     <h3>Coinsurance</h3>
     <div *ngIf="!showTable" >
     <div class="co-insurance col-md-4" *ngIf="occurences ; else occurencesetup" >
        <p>There are currently no coinsurance occurences defined for this plan</p>
      <form class="form-horizontal">       
        <div class="form-group col-md-8">
          <label for="usr">Number of Occurences</label>
          <input type="number" max="5" min="2" #occurcount class="form-control" id="usr">         
        </div>
        <div class="btn-group col-md-3">
            <button type="button" class="btn btn-primary" (click)="ShowAddoccurences(occurcount)">Add Occurences</button>
            </div> 
      </form>
    </div>
    
    <ng-template #occurencesetup>
        <div class="panel-default col-md-8" style="margin-top:10px;">
            
            <p> Coinsurance Occurences</p>   
          
            <div class="panel-body occurence" style="position:relative">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <!-- <th *ngFor="#column of columns">
                                    {{column}}
                                </th> -->
                                <th class="col-md-2">Occurence ID</th>
                                <th class="col-md-2">Coinsurance Amount (%)</th>
                                <th class="col-md-2">Level</th>
                            </tr>
                        </thead>
                        <!-- <tbody>
                            <tr *ngFor="#data of data">
                                <td *ngFor="#column of columns">
                                    {{data.column}}
                                </td>
                            </tr>
                        </tbody> -->
                        <tbody>
                          <tr *ngFor="let item of coinsurance; let index=index"  >
                              <td class="col-md-3 border">{{item.occurence}}</td>
                              <td class="col-md-3 border"><input type="text"  [(ngModel)]="item.value"></td>
                              <td class="col-md-3 border">
                              <select data-ng-value="" class="form-control border-radius-0 border">
                                  <option *ngFor="let level of levels">{{level}}</option></select>
                                </td>                              
                          </tr>
                          
                          <tr>
                            <td class="col-md-3"></td>
                            <td class="col-md-3"><button type="button " (click)="showdata()"  class="btn btn-basic margin-right-3 col-md-10 p-l-0">Add Occurance</button></td>
                            <td><button type="submit " class="btn btn-primary  col-md-12 p-l-0" (click)="showTable = !showTable ">Save</button></td>
                          </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            </div>           
      </ng-template>
    </div>
      <div *ngIf="showTable"    class="panel-default col-md-8" style="margin-top:10px;">
          <p> Coinsurance Occurences</p>   
      <div class="panel-default" >
        <div class="panel-body">
            <table class="table-bordered col-md-12">
              <thead>
              <tr>
                <th class="col-md-3">Occurance</th>
                <th class="col-md-2">Value</th>
                <th class="col-md-2">Level</th>
                <th class="col-md-3">Related Scenario</th>
                <th class="col-md-2">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of coinsurance"> <!-- add for loop here -->
                  <td class="col-md-3">{{item.occurence}}</td>
                  <td class="col-md-2">{{item.value}}</td>
                  <td class="col-md-2">{{item.level}}</td>
                  <td class="col-md-3">{{item.related_scenarios}}</td>
                  <td class="col-md-2"><a href="#">edit</a>&nbsp;<a href="#">delete</a></td>
              </tr>
            </tbody>
            </table>
        </div>
      </div>
      </div>
  
  <div class="col-md-12 footer">
    <hr/>
    <div class="col-md-6">
        <button type="button" class="btn  pull-right">Back</button>
    </div>
   <div class="col-md-6">

  
    <button type="button" class="btn btn-primary pull-left">Submit</button>
</div>
    </div>  
</div>
</div>